谦

诚

专



## 7253. 2021.08.23【2022省赛模拟】网格图(grid)

0. 一个n*m的网格，可以填右或下箭头，路径模n/m循环，求染色使得能形成从（1，1）出发的循环的方案数（要经过所有格子）。
1. **基本观察**：对于一个格子，上和左颜色必然相等。那就会形成 $gcd(n,m)$ 条斜线。
2. 思考合法的为什么合法，**不合法的为什么不合法**：比赛时没有思考怎么才会不合法：形成循环，即有些格子不会被走到。
3. **界定循环（找出循环的特征），进行计数**。取第一行的m-m/g*t个白格子为界定标准，观察走过一轮之后的位移，那么gcd(格子，位移)==1.进一步发现位移就是n/g * t.



## 7254. 2021.08.23【2022省赛模拟】二分图(bipartite)

0. 选边集S使得原图删去S后是二分图，最小化|S|的同时求数量，只需要搞|S|<=2的即可。n,m<=2e6.
1. **复杂的联通分量上的环要考虑生成树，并抓住根本性质：所有环能够表示为树上的“原环”的异或（或gcd等）** 。这样可以轻松得出，一个奇环必定是奇数个奇环和任意奇环的异或。问题转化为：一定要消去所有原奇环。
2. **生成树上随机赋权**（对每个环），以**界定**奇环。那么若S中所有边权异或得到 所有奇环权异或，就是等价条件。~~下次这种题再做不出来把你给爆咯~~



## 7255. 2021.08.23【2022省赛模拟】操作计数(count)

0. 有数组a和b，要求每次选两个位置i<j，分别加一，使得a变成b,同时任意时刻操作后a不相等。
1. **弱化限制条件！** 先忽略不相等，再忽略不同位置，那么剩下的事情就是一个组合数（而且部分分bi-ai相等，有提示）。考虑对相同位置的问题容斥，设xi表示i有2xi次重复，那么统计sum xi即可。
2. **根据经验，把sum xi提出来** 用多项式卷起来。不相等即没有重复点，LGV一发，拉格朗日插值即可。
3. 拉格朗日插值是n^2 的！除掉短多项式即可.